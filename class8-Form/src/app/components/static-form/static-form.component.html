<div class="container my-5">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 offset-lg-2 col-lg-8 offset-xl-2 col-xl-8 offset-xxl-2 col-xxl-8">
            <div class="lead border p-3 rounded shadow">

                <div class="alert alert-danger" *ngIf="submitted">
                    <strong>Check it out!</strong>
                    <p>{{errorMessage}}</p>
                </div>

                <form autocomplete="off"  #userForm="ngForm" (ngSubmit)="userFormData(userForm.value);">
                    <div class="form-group my-3 bg-dark p-2 rounded">
                        <h2 class="text-center text-white">STATIC FORM</h2>
                    </div>

                    <div class="form-group my-3">
                        <label for="name">Name</label>
                        <input type="text" name="name" #name="ngModel" placeholder="Enter Name" required minlength="4" maxlength="20" class="form-control" [(ngModel)]="modelForm.name">

                        <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
                            <div *ngIf="name.errors?.['required']">
                                Name is required.
                            </div>
                            <div *ngIf="(name.errors?.['minlength'])">
                                Name must be at least 4 characters long.
                            </div>
                            <div *ngIf="name.errors?.['maxlength']">
                                Name must be at most 20 characters long.
                            </div>
                        </div>

                    </div>

                    <div class="form-group my-3">
                        <label for="email">Email</label>
                        <input type="email" name="email" #email="ngModel" placeholder="Enter Email" email required  class="form-control" [(ngModel)]="modelForm.email">

                        <div *ngIf="email.invalid && (email.dirty || email.touched)"
                        class="alert alert-danger">
                            <div *ngIf="email.errors?.['required']">
                                Email is required
                            </div>
                            <span *ngIf="email.errors?.['email']">
                                Enter a valid email address
                            </span>
                        </div>
                    </div>

                    <div class="form-group my-3">
                        <label for="phone">Phone</label>
                        <input type="tel" name="phone" #phone="ngModel" placeholder="Enter Phone" required minlength="10" maxlength="13" class="form-control" [(ngModel)]="modelForm.phone">

                        <div *ngIf="phone.invalid && (phone.dirty || phone.touched)"
                        class="alert alert-danger">
                            <!-- <span>Enter Phone Number</span> -->
                            <div *ngIf="phone.errors?.['required']">
                                Enter Phone Number
                            </div>
                            <div *ngIf="phone.errors?.['minlength']">
                                Phone number must be at least 10 characters long.
                            </div>
                        </div>
                    </div>

                    <div class="form-group my-3">
                        <label for="topic">Choose your course Topic</label>
                        <select name="topic" #topic="ngModel" required class="form-select" [(ngModel)]="modelForm.topic">
                            <option value="">----- Select Technologies -----</option>
                            <option *ngFor="let topic of topics" [value]="topic">{{topic}}</option>
                        </select>

                        <div *ngIf="topic.invalid && (topic.dirty || topic.touched)" class="alert alert-danger">
                            <!-- <span>Enter Phone Number</span> -->
                            <div *ngIf="topic.errors?.['required']">
                                Select Topics
                            </div>
                        </div>
                    </div>

                    <div class="form-group my-3">
                        <label for="timePreference">Time Preference</label>
                        <div class="lead border rounded p-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="timePreference" #timePreference="ngModel" value="morning" checked [(ngModel)]="modelForm.timePreference"/>
                                <label class="form-check-label" for=""> Morning (9AM - 12PM) </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="timePreference" #timePreference="ngModel" value="evening" [(ngModel)]="modelForm.timePreference"/>
                                <label class="form-check-label" for=""> Evening (5PM - 8PM) </label>
                            </div>

                            <div *ngIf="timePreference.invalid && (timePreference.dirty || timePreference.touched)" class="alert alert-danger">
                                <!-- <span>Enter Phone Number</span> -->
                                <div *ngIf="timePreference.errors?.['checked']">
                                    Select Topics
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group my-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" #subscribe="ngModel" name="subscribe" required  value="subscribed" [(ngModel)]="modelForm.subscribe"/>
                            <label class="form-check-label" for=""> Send me promotional offers </label>
                        </div> 
                        
                        <div *ngIf="subscribe.invalid && (subscribe.dirty || subscribe.touched)" class="alert alert-danger">
                            <div *ngIf="subscribe.errors?.['required']">
                                Accept Terms and Conditions
                            </div>
                        </div>     
                    </div>

                    <div class="form-group my-3">
                        <button type="submit" class="btn btn-outline-dark" [disabled]="userForm.invalid">SUBMIT</button>
                    </div> 
                </form>
            </div>
        </div>
    </div>
    
    <div class="row my-5">
        <div class="col">
            <div class="lead border rounded shadow p-3 bg-dark text-white text-center">
                <h1>FORM VALUE</h1>
                <p>{{userForm.value | json}}</p>
            </div>
        </div>
    </div>
    
    <div class="row my-5">
        <div class="col">
            <div class="lead border rounded shadow p-3 bg-dark text-white text-center">
                <h1>CLASS VALUE</h1>
                <p>{{modelForm | json}}</p>
            </div>
        </div>
    </div>
</div>